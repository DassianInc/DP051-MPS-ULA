<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js"><span id='Gnt-plugin-taskeditor-ProjectEditor'>/**
</span>
@class Gnt.plugin.taskeditor.ProjectEditor
@extends Gnt.plugin.taskeditor.BaseEditor

A plugin (ptype = 'gantt_projecteditor') which shows a {@link Gnt.widget.taskeditor.ProjectEditor} in a window when a user double-clicks
{@link Gnt.model.Project a task of project type} bar in the gantt chart.

You can enable this plugin in your Gantt chart like this:

    var gantt = Ext.create('Gnt.panel.Gantt', {
        ...
        plugins : ['gantt_projecteditor']
        ...
    });

*/
Ext.define('Gnt.plugin.taskeditor.ProjectEditor', {
    extend              : 'Gnt.plugin.taskeditor.BaseEditor',

    alternateClassName  : ['Gnt.plugin.ProjectEditor'],

    requires            : [
        'Gnt.widget.taskeditor.ProjectEditor'
    ],

    alias               : 'plugin.gantt_projecteditor',
<span id='Gnt-plugin-taskeditor-ProjectEditor-property-ptype'>    // ptype isn't filled automatically, because we do not extend AbstractPlugin
</span>    ptype               : 'gantt_projecteditor',

<span id='Gnt-plugin-taskeditor-ProjectEditor-cfg-taskEditorCls'>    /**
</span>    * @cfg {Object} taskEditorCls Class for the {@link Gnt.widget.taskeditor.ProjectEditor} instance.
    */
    taskEditorCls       : 'Gnt.widget.taskeditor.ProjectEditor',

<span id='Gnt-plugin-taskeditor-ProjectEditor-cfg-task'>    /**
</span>     * @cfg {Gnt.model.Task} task The task to show in the task editor.
     */

<span id='Gnt-plugin-taskeditor-ProjectEditor-cfg-l10n'>    /**
</span>     * @cfg {Object} l10n
     * A object, purposed for the class localization. Contains the following keys/values:

            - title               : 'Project Information',
            - alertCaption        : 'Information',
            - alertText           : 'Please correct marked errors to save changes',
            - okText              : 'Ok',
            - cancelText          : 'Cancel',
            - generalText         : 'General'
     */

    taskEditorConfigs  : 'l10n,task,taskStore,assignmentStore,resourceStore,projectFormClass,showDescription,projectFormConfig,descriptionConfig',

<span id='Gnt-plugin-taskeditor-ProjectEditor-event-loadproject'>    /**
</span>     * @event loadproject
     * Fires after project loading complete.
     * @param {Gnt.widget.taskeditor.ProjectEditor} projectEditor Project editor widget instance used for editing.
     * @param {Gnt.model.Project} project The loaded project.
     */

<span id='Gnt-plugin-taskeditor-ProjectEditor-event-validate'>    /**
</span>     * @event validate
     * Fires when project validation occurs. Take a look at example of using this event {@link Gnt.widget.taskeditor.TaskEditor#event-validate here}.
     * @param {Gnt.widget.taskeditor.ProjectEditor} projectEditor Project editor widget instance.
     */

<span id='Gnt-plugin-taskeditor-ProjectEditor-event-beforeupdateproject'>    /**
</span>     * @event beforeupdateproject
     * Fires before project updating occurs. Return false to prevent the update.
     * @param {Gnt.widget.taskeditor.ProjectEditor} projectEditor Project editor widget instance used for editing.
     * @param {Function} proceedCallback The function which can be called manually to continue project updating. Example:
     */

<span id='Gnt-plugin-taskeditor-ProjectEditor-event-afterupdateproject'>    /**
</span>     * @event afterupdateproject
     * Fires after project updating is finished.
     * @param {Gnt.widget.taskeditor.ProjectEditor} projectEditor Project editor widget instance.
     *
     */

    constructor : function (config) {
        this.callParent(arguments);
        this.addCls('gnt-projecteditor-window');
        // filter out all except project records
        this.addFilter(this.isProject);
    },


<span id='Gnt-plugin-taskeditor-ProjectEditor-method-init'>    init : function (cmp) {
</span>        this.callParent(arguments);
        // decorate the component with a reference to the plugin
        cmp.projectEditor   = this;
    },


<span id='Gnt-plugin-taskeditor-ProjectEditor-method-isProject'>    isProject : function (task) {
</span>        return task &amp;&amp; task.isProject;
    }

});
</pre>
</body>
</html>
